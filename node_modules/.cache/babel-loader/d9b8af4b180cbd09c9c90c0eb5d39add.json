{"remainingRequest":"/Volumes/DATI/client_modsem/node_modules/babel-loader/lib/index.js!/Volumes/DATI/client_modsem/node_modules/eslint-loader/index.js??ref--14-0!/Volumes/DATI/client_modsem/src/utils.js","dependencies":[{"path":"/Volumes/DATI/client_modsem/src/utils.js","mtime":1639930003963},{"path":"/Volumes/DATI/client_modsem/babel.config.js","mtime":1639855315044},{"path":"/Volumes/DATI/client_modsem/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/DATI/client_modsem/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/DATI/client_modsem/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Wb2x1bWVzL0RBVEkvY2xpZW50X21vZHNlbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmVudHJpZXMuanMiOwp2YXIgZW5kcG9pbnRVcmwgPSAnaHR0cDovL2xvY2FsaG9zdDo3MjAwL3JlcG9zaXRvcmllcy9NdXNpY2FsRXZlbnRzT250b2xvZ3knOwoKdmFyIFNwYXJxbENsaWVudCA9IHJlcXVpcmUoInNwYXJxbC1odHRwLWNsaWVudCIpOwoKZnVuY3Rpb24gbWFrZVF1ZXJ5KF94KSB7CiAgcmV0dXJuIF9tYWtlUXVlcnkuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gX21ha2VRdWVyeSgpIHsKICBfbWFrZVF1ZXJ5ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHF1ZXJ5KSB7CiAgICB2YXIgZGF0YSwgY2xpZW50LCBzdHJlYW0sIGksIG5yb3c7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGRhdGEgPSBbXTsKICAgICAgICAgICAgY2xpZW50ID0gbmV3IFNwYXJxbENsaWVudCh7CiAgICAgICAgICAgICAgZW5kcG9pbnRVcmw6IGVuZHBvaW50VXJsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgcmV0dXJuIGNsaWVudC5xdWVyeS5zZWxlY3QocXVlcnkpOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgc3RyZWFtID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgaSA9IDA7CiAgICAgICAgICAgIG5yb3cgPSAwOwogICAgICAgICAgICAvKlJlY3VwZXJvIGlsIG51bWVybyBkaSByaWdoZSBkZWxsYSBub3N0cmEgcmlzcG9zdGEqLwoKICAgICAgICAgICAgc3RyZWFtLm9uKCdkYXRhJywgZnVuY3Rpb24gKHJvdykgewogICAgICAgICAgICAgIG5yb3cgPSBPYmplY3QuZW50cmllcyhyb3cpLmxlbmd0aDsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIC8qSW5pemlvIGwnb2dnZXR0byBkYSBwYXNzYXJlIGFsIGNvbXBvbmVudCBCVGFibGUqLwoKICAgICAgICAgICAgZGF0YSA9IG5ldyBBcnJheShPYmplY3QuZW50cmllcyhucm93KS5sZW5ndGgpOwogICAgICAgICAgICAvKkluaXppbyBsJ29nZ2V0dG8gZGEgcGFzc2FyZSBhbCBjb21wb25lbnQgQlRhYmxlKi8KCiAgICAgICAgICAgIHN0cmVhbS5vbignZGF0YScsIGZ1bmN0aW9uIChyb3cpIHsKICAgICAgICAgICAgICBkYXRhLnB1c2goe30pOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGksIHJvdyk7CiAgICAgICAgICAgICAgLyoKICAgICAgICAgICAgICBPYmplY3QuZW50cmllcyhyb3cpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4gewogICAgICAgICAgICAgICAgICBkYXRhW2ldW2tleV0gPSB2YWx1ZS52YWx1ZS5yZXBsYWNlKCdodHRwOi8vd3d3Lm1vZHNlbS5vcmcvbXVzaWNhbEV2ZW50c09udG9sb2d5IycsICcnKTsKICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgKi8KCiAgICAgICAgICAgICAgaSsrOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgc3RyZWFtLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZGF0YSk7CgogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CiAgcmV0dXJuIF9tYWtlUXVlcnkuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZXhwb3J0IHsgbWFrZVF1ZXJ5IH07"},{"version":3,"sources":["/Volumes/DATI/client_modsem/src/utils.js"],"names":["endpointUrl","SparqlClient","require","makeQuery","query","data","client","select","stream","i","nrow","on","row","Object","entries","length","Array","push","console","log","err","error"],"mappings":";;;AAAA,IAAMA,WAAW,GAAG,0DAApB;;AACA,IAAMC,YAAY,GAAGC,OAAO,CAAC,oBAAD,CAA5B;;SAEeC,S;;;;;uEAAf,iBAAyBC,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AACQC,YAAAA,IADR,GACe,EADf;AAGUC,YAAAA,MAHV,GAGmB,IAAIL,YAAJ,CAAiB;AAACD,cAAAA,WAAW,EAAXA;AAAD,aAAjB,CAHnB;AAAA;AAAA,mBAIyBM,MAAM,CAACF,KAAP,CAAaG,MAAb,CAAoBH,KAApB,CAJzB;;AAAA;AAIUI,YAAAA,MAJV;AAMQC,YAAAA,CANR,GAMY,CANZ;AAOQC,YAAAA,IAPR,GAOe,CAPf;AASI;;AACAF,YAAAA,MAAM,CAACG,EAAP,CAAU,MAAV,EAAkB,UAAAC,GAAG,EAAI;AACrBF,cAAAA,IAAI,GAAGG,MAAM,CAACC,OAAP,CAAeF,GAAf,EAAoBG,MAA3B;AACH,aAFD;AAIA;;AACAV,YAAAA,IAAI,GAAG,IAAIW,KAAJ,CAAUH,MAAM,CAACC,OAAP,CAAeJ,IAAf,EAAqBK,MAA/B,CAAP;AAEA;;AACAP,YAAAA,MAAM,CAACG,EAAP,CAAU,MAAV,EAAkB,UAAAC,GAAG,EAAI;AACrBP,cAAAA,IAAI,CAACY,IAAL,CAAU,EAAV;AAEAC,cAAAA,OAAO,CAACC,GAAR,CAAYV,CAAZ,EAAeG,GAAf;AAEA;AACR;AACA;AACA;AACA;;AAGQH,cAAAA,CAAC;AACJ,aAbD;AAeAD,YAAAA,MAAM,CAACG,EAAP,CAAU,OAAV,EAAmB,UAAAS,GAAG,EAAI;AACtBF,cAAAA,OAAO,CAACG,KAAR,CAAcD,GAAd;AACH,aAFD;AAIAF,YAAAA,OAAO,CAACC,GAAR,CAAYd,IAAZ;AArCJ,6CAsCWA,IAtCX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAyCA,SAAQF,SAAR","sourcesContent":["const endpointUrl = 'http://localhost:7200/repositories/MusicalEventsOntology'\nconst SparqlClient = require(\"sparql-http-client\");\n\nasync function makeQuery(query) {\n    var data = [];\n\n    const client = new SparqlClient({endpointUrl})\n    const stream = await client.query.select(query)\n\n    var i = 0;\n    var nrow = 0;\n\n    /*Recupero il numero di righe della nostra risposta*/\n    stream.on('data', row => {\n        nrow = Object.entries(row).length;\n    })\n\n    /*Inizio l'oggetto da passare al component BTable*/\n    data = new Array(Object.entries(nrow).length);\n\n    /*Inizio l'oggetto da passare al component BTable*/\n    stream.on('data', row => {\n        data.push({});\n\n        console.log(i, row);\n\n        /*\n        Object.entries(row).forEach(([key, value]) => {\n            data[i][key] = value.value.replace('http://www.modsem.org/musicalEventsOntology#', '');\n        })\n\n         */\n\n        i++;\n    })\n\n    stream.on('error', err => {\n        console.error(err)\n    })\n\n    console.log(data);\n    return data;\n}\n\nexport {makeQuery}"]}]}